<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>DataDiet</title>
            <link rel="stylesheet" href="home-style.css">
            <link rel="stylesheet" href="trends-style.css">
            <link rel="stylesheet" href="heatmaps-style.css">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
            <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css" />
            <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
            <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
            <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        </head>
        <body>
            <div id="top-container">
                <div id="sidebar">
                    <h2>Select Feature</h2>
                    <div id="options">
                        <template id="option-template">
                            <label class="option-label">
                                <input type="radio" name="feature" class="option-input">
                                <span class="option-text"></span>
                            </label>
                        </template>
                    </div>
                    <button id="toggle-sidebar"><span class="material-symbols-outlined" id = "forward-logo">arrow_forward_ios</span></button>
                </div>
            </div>
            <div id="graphContainer">
                <h2 id="title-1">Point 1</h2>
                <canvas id="myChart" width="300" height="100"></canvas>
                <h2 id="title-1">Point 2</h2>
                <canvas id="myChart2" width="300" height="100"></canvas>
            </div>
            <div class="loading-screen" style="display:none;">
                <div class="spinner"></div>
                <p class = "loading-data">Loading data, please wait...</p>
            </div>
        </body>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.0"></script>
        <script src = "template.js"></script>
        <script src = "trends.js"></script>
        <script>
        const featureString = localStorage.getItem("features");
        const features = featureString.split(",");
        const container = document.getElementById("options");
        const template = document.getElementById("option-template");
        for (let i = 0; i<features.length; i++) {
            const clone = document.importNode(template.content, true);
            clone.querySelector(".option-text").textContent = features[i];
            clone.querySelector(".option-input").value = features[i];
            container.append(clone);
        }

        const optionLabels = document.querySelectorAll('.option-label');

        container.addEventListener('click', (event) => {
            const label = event.target.closest('.option-label');
            if (label) {
            document.querySelectorAll('.option-label').forEach((lbl) => 
                lbl.classList.remove('pressed')
            );
            label.classList.add('pressed');
            }
        });
        </script>
    </html>